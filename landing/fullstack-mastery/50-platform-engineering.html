<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex, nofollow">
<title>50 — Platform Engineering | Full-Stack Mastery</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Outfit:wght@300;400;500;600;700;800&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
--bg:#0c0e12;--bg2:#12151b;--bg3:#181c24;--bg4:#1e2330;
--text:#d4d8e0;--text2:#8b92a0;--text3:#5c6370;
--accent:#3dd68c;--accent2:#2bb87a;--accent-dim:rgba(61,214,140,.08);
--orange:#e8915a;--blue:#5b9cf5;--purple:#b07aee;--red:#e05c6c;--yellow:#e2c55a;--cyan:#56b6c2;
--code-bg:#0d1017;--code-border:#1a1f2a;
--card:#151921;--card-border:#1e2430;
--radius:12px;--radius-sm:8px;
}
html{scroll-behavior:smooth;font-size:16px}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);line-height:1.7;-webkit-font-smoothing:antialiased}
::selection{background:var(--accent);color:var(--bg)}
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-track{background:var(--bg2)}
::-webkit-scrollbar-thumb{background:var(--bg4);border-radius:3px}

/* ── TOP NAV ── */
.topnav{position:fixed;top:0;left:0;right:0;height:56px;background:var(--bg2);border-bottom:1px solid var(--card-border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;z-index:100;backdrop-filter:blur(12px)}
.topnav a{color:var(--text2);text-decoration:none;font-size:.82rem;font-weight:500;transition:color .2s}
.topnav a:hover{color:var(--accent)}
.topnav .nav-center{font-size:.75rem;color:var(--text3);font-weight:600;letter-spacing:1px;text-transform:uppercase}
.topnav .nav-center span{color:var(--accent)}
.topnav .nav-home{color:var(--text3);text-decoration:none;font-size:.82rem;font-weight:500;padding:4px 12px;border:1px solid var(--card-border);border-radius:var(--radius-sm);transition:all .2s;display:inline-flex;align-items:center;gap:4px}
.topnav .nav-home:hover{color:var(--accent);border-color:var(--accent);background:var(--accent-dim)}
.topnav .nav-right{display:flex;align-items:center;gap:12px}

/* ── PROGRESS BAR ── */
.progress-bar{position:fixed;top:56px;left:0;right:0;height:3px;background:var(--bg4);z-index:99}
.progress-bar-fill{height:100%;background:linear-gradient(90deg,var(--accent),var(--accent2));transition:width .3s;border-radius:0 2px 2px 0}

/* ── MAIN ── */
.main{margin-top:64px;min-height:100vh}
.content{max-width:900px;margin:0 auto;padding:48px 32px 120px}

/* ── SECTIONS ── */
.section{margin-bottom:64px;scroll-margin-top:80px}
.section-num{font-family:'JetBrains Mono',monospace;font-size:.7rem;color:var(--accent);letter-spacing:2px;margin-bottom:8px;display:block}
.section h2{font-size:1.8rem;font-weight:700;letter-spacing:-.01em;margin-bottom:8px;line-height:1.3}
.section-line{width:48px;height:3px;background:var(--accent);border-radius:2px;margin-bottom:28px}
.section h3{font-size:1.15rem;font-weight:600;color:var(--text);margin:32px 0 12px;padding-left:14px;border-left:3px solid var(--accent)}
.section h4{font-size:.95rem;font-weight:600;color:var(--orange);margin:24px 0 8px}
.section p{color:var(--text2);margin-bottom:14px;font-size:.95rem}
.section p strong{color:var(--text);font-weight:600}
.section ul,.section ol{color:var(--text2);margin:8px 0 16px 20px;font-size:.9rem}
.section li{margin-bottom:6px;line-height:1.6}
.section li strong{color:var(--text);font-weight:600}
.section li code{background:var(--bg4);padding:2px 7px;border-radius:4px;font-size:.8rem;color:var(--orange);font-family:'JetBrains Mono',monospace}

/* ── CODE BLOCKS ── */
pre{background:var(--code-bg);border:1px solid var(--code-border);border-radius:var(--radius);padding:20px 24px;overflow-x:auto;margin:16px 0 20px;position:relative}
pre::before{content:attr(data-lang);position:absolute;top:8px;right:12px;font-family:'JetBrains Mono',monospace;font-size:.6rem;color:var(--text3);text-transform:uppercase;letter-spacing:1px;background:var(--bg4);padding:2px 8px;border-radius:4px}
code{font-family:'JetBrains Mono',monospace;font-size:.82rem;line-height:1.6;color:#c5cdd8}
p code,.inline-code{background:var(--bg4);padding:2px 7px;border-radius:4px;font-size:.82rem;color:var(--orange);font-family:'JetBrains Mono',monospace}
.kw{color:#c678dd}.fn{color:#61afef}.str{color:#98c379}.cm{color:#5c6370;font-style:italic}
.num{color:#d19a66}.ann{color:#e5c07b}.tp{color:#e06c75}.op{color:#56b6c2}

/* ── CARDS ── */
.card{background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius);padding:24px;margin:16px 0}
.card-title{font-size:.8rem;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;color:var(--accent);margin-bottom:12px;display:flex;align-items:center;gap:8px}
.card-title::before{content:'';width:8px;height:8px;background:var(--accent);border-radius:50%}
.card.blue .card-title{color:var(--blue)}.card.blue .card-title::before{background:var(--blue)}
.card.purple .card-title{color:var(--purple)}.card.purple .card-title::before{background:var(--purple)}
.card.orange .card-title{color:var(--orange)}.card.orange .card-title::before{background:var(--orange)}

/* ── DIAGRAMS ── */
.diagram{display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap;margin:20px 0;padding:24px;background:var(--bg3);border-radius:var(--radius);border:1px solid var(--card-border)}
.diagram-box{padding:12px 20px;border-radius:var(--radius-sm);font-size:.8rem;font-weight:600;text-align:center;min-width:120px}
.diagram-box.green{background:rgba(61,214,140,.12);border:1px solid rgba(61,214,140,.3);color:var(--accent)}
.diagram-box.blue{background:rgba(91,156,245,.12);border:1px solid rgba(91,156,245,.3);color:var(--blue)}
.diagram-box.purple{background:rgba(176,122,238,.12);border:1px solid rgba(176,122,238,.3);color:var(--purple)}
.diagram-box.orange{background:rgba(232,145,90,.12);border:1px solid rgba(232,145,90,.3);color:var(--orange)}
.diagram-box.red{background:rgba(224,92,108,.12);border:1px solid rgba(224,92,108,.3);color:var(--red)}
.diagram-box.cyan{background:rgba(86,182,194,.12);border:1px solid rgba(86,182,194,.3);color:var(--cyan)}
.diagram-arrow{color:var(--text3);font-size:1.2rem}

/* ── TIPS ── */
.tip{display:flex;gap:14px;padding:16px 20px;border-radius:var(--radius);margin:16px 0;font-size:.88rem;line-height:1.6}
.tip.good{background:rgba(61,214,140,.06);border:1px solid rgba(61,214,140,.15);color:var(--accent)}
.tip.warn{background:rgba(226,197,90,.06);border:1px solid rgba(226,197,90,.15);color:var(--yellow)}
.tip.info{background:rgba(91,156,245,.06);border:1px solid rgba(91,156,245,.15);color:var(--blue)}
.tip.bad{background:rgba(224,92,108,.06);border:1px solid rgba(224,92,108,.15);color:var(--red)}
.tip-icon{font-size:1.1rem;flex-shrink:0;margin-top:2px}

/* ── Q&A ── */
.qa{background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius);margin:12px 0;overflow:hidden}
.qa-q{padding:16px 20px;font-weight:600;color:var(--text);cursor:pointer;display:flex;align-items:center;gap:10px;font-size:.9rem;transition:background .15s}
.qa-q:hover{background:var(--accent-dim)}
.qa-q::before{content:'Q';font-family:'JetBrains Mono',monospace;font-size:.65rem;background:var(--accent);color:var(--bg);padding:3px 7px;border-radius:4px;font-weight:700}
.qa-a{padding:0 20px 16px 20px;color:var(--text2);font-size:.88rem;display:none}
.qa.open .qa-a{display:block}
.qa.open .qa-q{border-bottom:1px solid var(--card-border)}

/* ── TABLES ── */
.table-wrap{overflow-x:auto;margin:16px 0 20px;border-radius:var(--radius);border:1px solid var(--card-border)}
table{width:100%;border-collapse:collapse;font-size:.85rem}
th{background:var(--bg4);color:var(--accent);font-weight:600;text-transform:uppercase;font-size:.7rem;letter-spacing:1px;padding:12px 16px;text-align:left}
td{padding:10px 16px;border-top:1px solid var(--card-border);color:var(--text2)}
tr:hover td{background:var(--accent-dim)}

/* ── TAGS ── */
.tag-list{display:flex;flex-wrap:wrap;gap:8px;margin:12px 0}
.tag{display:inline-block;padding:4px 12px;background:var(--bg3);border:1px solid var(--card-border);border-radius:16px;font-size:.72rem;color:var(--text2);font-weight:500;transition:all .2s}

/* ── QUIZ ── */
.quiz-section{margin-top:64px;padding-top:32px;border-top:2px solid var(--card-border)}
.quiz-section h3{border-left-color:var(--purple)}
.quiz-card{background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius);padding:24px;margin:16px 0}
.quiz-question{font-weight:600;color:var(--text);margin-bottom:16px;font-size:.92rem;display:flex;gap:10px}
.quiz-question .q-num{font-family:'JetBrains Mono',monospace;color:var(--accent);font-size:.8rem;min-width:28px}
.quiz-options{display:flex;flex-direction:column;gap:8px;margin-bottom:8px}
.quiz-option{display:flex;align-items:center;gap:12px;padding:10px 16px;background:var(--bg3);border:1px solid var(--card-border);border-radius:var(--radius-sm);cursor:pointer;transition:all .2s;font-size:.88rem;color:var(--text2)}
.quiz-option:hover{border-color:var(--accent);background:var(--accent-dim)}
.quiz-option.selected{border-color:var(--accent);background:var(--accent-dim);color:var(--text)}
.quiz-option.correct{border-color:var(--accent);background:rgba(61,214,140,.15);color:var(--accent)}
.quiz-option.wrong{border-color:var(--red);background:rgba(224,92,108,.1);color:var(--red)}
.quiz-option input[type="radio"]{accent-color:var(--accent)}
.quiz-explanation{display:none;padding:12px 16px;background:var(--bg3);border-radius:var(--radius-sm);margin-top:8px;font-size:.82rem;color:var(--text2);border-left:3px solid var(--accent)}
.quiz-explanation.visible{display:block}
.quiz-actions{display:flex;gap:12px;margin-top:24px;flex-wrap:wrap}
.btn{padding:12px 28px;border-radius:var(--radius-sm);font-family:'Outfit',sans-serif;font-size:.88rem;font-weight:600;cursor:pointer;border:none;transition:all .2s}
.btn-primary{background:var(--accent);color:var(--bg)}
.btn-primary:hover{background:var(--accent2)}
.btn-secondary{background:var(--bg3);color:var(--text2);border:1px solid var(--card-border)}
.btn-secondary:hover{border-color:var(--accent);color:var(--accent)}
.btn:disabled{opacity:.4;cursor:not-allowed}
.quiz-result{display:none;padding:24px;background:var(--card);border:1px solid var(--card-border);border-radius:var(--radius);margin-top:24px;text-align:center}
.quiz-result.visible{display:block}
.quiz-score{font-size:2.4rem;font-weight:800;color:var(--accent);margin:8px 0}
.quiz-score.low{color:var(--red)}
.quiz-score.mid{color:var(--yellow)}

/* ── WIZARD NAV ── */
.wizard-nav{display:flex;justify-content:space-between;align-items:center;margin-top:64px;padding:32px 0;border-top:1px solid var(--card-border)}
.wizard-nav a{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:var(--bg3);border:1px solid var(--card-border);border-radius:var(--radius-sm);color:var(--text2);text-decoration:none;font-size:.88rem;font-weight:500;transition:all .2s}
.wizard-nav a:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-dim)}
.wizard-nav a.primary{background:var(--accent);color:var(--bg);border-color:var(--accent)}
.wizard-nav a.primary:hover{background:var(--accent2)}
.wizard-nav .wizard-home{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:var(--bg3);border:1px solid var(--card-border);border-radius:var(--radius-sm);color:var(--text2);text-decoration:none;font-size:.88rem;font-weight:500;transition:all .2s}
.wizard-nav .wizard-home:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-dim)}

/* ── RESPONSIVE ── */
@media(max-width:768px){
.content{padding:32px 16px 80px}
.topnav{padding:0 12px}
.section h2{font-size:1.4rem}
}

/* ── ANIMATIONS ── */
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.section{animation:fadeUp .5s ease both}
</style>
<script> var MemberSpace = window.MemberSpace || {"subdomain":"ohanax"}; (function(d){ var s = d.createElement("script"); s.src = "https://cdn.memberspace.com/scripts/widgets.js"; var e = d.getElementsByTagName("script")[0]; e.parentNode.insertBefore(s,e); }(document)); </script>
</head>
<body>
<!-- MemberSpace Extra Security -->
<style>#__memberspace_modal_protected_page{position:fixed;top:0;left:0;width:100%;height:100%;background:#0c0e12;z-index:2147483646}</style>
<div id="__memberspace_modal_protected_page"></div>

<!-- ── TOP NAVIGATION ── -->
<nav class="topnav">
<a href="49-padroes-arquiteturais-avancados.html">&#8592; Anterior</a>
<div class="nav-center">Seção <span>50</span> / 66</div>
<div class="nav-right"><a href="../fullstack-mastery.html" class="nav-home" title="Voltar ao Dashboard">&#8962; Home</a>
<a href="51-reliability-engineering.html">Próximo &#8594;</a></div>
</nav>
<div class="progress-bar"><div class="progress-bar-fill" style="width:75.8%"></div></div>

<!-- ── MAIN CONTENT ── -->
<div class="main">
<div class="content">

<div class="section">
<span class="section-num">SEÇÃO 50</span>
<h2>Platform Engineering</h2>
<div class="section-line"></div>

<p>Platform Engineering é a disciplina de <strong>projetar e construir toolchains e workflows de self-service</strong> que permitem que equipes de desenvolvimento entreguem software com autonomia, velocidade e segurança. Enquanto DevOps foca em cultura e colaboracao, Platform Engineering foca em <strong>construir o produto interno</strong> que os desenvolvedores consomem diariamente.</p>

<p>A ideia central é simples: se cada time de produto precisa configurar CI/CD, provisionar infraestrutura, configurar observabilidade e gerenciar secrets — você tem <strong>N times resolvendo o mesmo problema N vezes</strong>. Platform Engineering resolve isso uma vez, de forma padronizada, e oferece como produto interno.</p>

<p>Segundo o Gartner, até 2026, <strong>80% das organizacoes de engenharia de software</strong> teráo times de plataforma como provedores internós de serviços reútilizaveis. Não e modismo — e evolução natural da maturidade de engenharia.</p>

<!-- ═══ O QUE E PLATFORM ENGINEERING ═══ -->
<h3>O que é Platform Engineering?</h3>

<h4>Definição e Evolucao</h4>
<p>Platform Engineering é a <strong>evolução prática do DevOps</strong>. DevOps trouxe a cultura de "you build it, you run it", mas na prática criou um problema: desenvolvedores precisam ser especialistas em Kubernetes, Terraform, observabilidade, segurança é mais — a famosa <strong>carga cognitiva</strong> que consome produtividade.</p>

<ul>
<li><strong>Fase 1 — Ops Tradicional (pre-2010):</strong> Times separados de Dev e Ops. Tickets para tudo. Deploys mensais. Fricacao máxima</li>
<li><strong>Fase 2 — DevOps (2010-2018):</strong> Cultura de colaboracao. CI/CD. "You build it, you run it". Mas a carga cognitiva explodiu</li>
<li><strong>Fase 3 — Platform Engineering (2018+):</strong> Times de plataforma constroem abstraccoes self-service. Devs focam no produto. A plataforma cuida do resto</li>
</ul>

<div class="diagram">
<div class="diagram-box orange">Ops Tradicional<br><small>Tickets + Silos</small></div>
<div class="diagram-arrow">&#8594;</div>
<div class="diagram-box blue">DevOps<br><small>Cultura + CI/CD</small></div>
<div class="diagram-arrow">&#8594;</div>
<div class="diagram-box green">Platform Engineering<br><small>Self-Service + IDPs</small></div>
</div>

<h4>Internal Developer Platforms (IDPs)</h4>
<p>Uma IDP é o <strong>conjunto de ferramentas, workflows e documentação</strong> que o time de plataforma oferece aos desenvolvedores. Não é uma única ferramenta — é a integração de várias:</p>

<ul>
<li><strong>Infrastructure Orchestration:</strong> Terraform, Pulumi, Crossplane — provisionamento automatizado</li>
<li><strong>Application Configuration:</strong> Helm charts, Kustomize — configuração padronizada de apps</li>
<li><strong>Environment Management:</strong> Namespaces, accounts — ambientes isolados por time/feature</li>
<li><strong>Deployment Management:</strong> ArgoCD, Flux — GitOps para deploys</li>
<li><strong>Developer Portal:</strong> Backstage, Port — catálogo e self-service UI</li>
</ul>

<h4>Platform as a Product</h4>
<p>O conceito mais importante: <strong>traté a plataforma como um produto e os desenvolvedores como seus clientes</strong>. Isso significa:</p>

<ul>
<li><strong>Product Manager:</strong> A plataforma precisa de um PM que entenda as necessidades dos devs</li>
<li><strong>User Research:</strong> Entreviste os devs. Quais são seus pain points? O que consome mais tempo?</li>
<li><strong>Roadmap:</strong> Priorize features da plataforma como qualquer outro produto</li>
<li><strong>Adoption Metrics:</strong> Metriques de adoção, satisfacao (NPS interno), tempo economizado</li>
<li><strong>Documentação:</strong> Tao boa quanto um produto SaaS publico</li>
</ul>

<div class="tip good">
<span class="tip-icon">&#10022;</span>
<div><strong>Regra de ouro:</strong> Se um desenvolvedor precisa abrir um ticket e esperar para provisionar um ambiente, a plataforma falhou. O objetivo e <strong>self-service em minutos, não dias</strong>. Pense como AWS Console: o usuário escolhe, configura e provisiona sem pedir permissão.</div>
</div>

<h4>Build vs Buy Decision Framework</h4>
<p>Nem tudo precisa ser construido internamente. Use este framework para decidir:</p>

<div class="table-wrap">
<table>
<tr><th>Criterio</th><th>Build (Construir)</th><th>Buy (Comprar)</th></tr>
<tr><td><strong>Diferencial competitivo?</strong></td><td>Sim — o workflow e único ao seu negócio</td><td>Não — e problema genérico (CI, monitoring)</td></tr>
<tr><td><strong>Time de plataforma?</strong></td><td>5+ engenheiros dedicados</td><td>&lt; 5 engenheiros ou tempo parcial</td></tr>
<tr><td><strong>Customizacao necessária?</strong></td><td>Alta — integrações profundas com sistemas internos</td><td>Baixa — configuração padrão resolve</td></tr>
<tr><td><strong>Custo total (3 anos)?</strong></td><td>Menor que licenciamento + manutenção</td><td>Menor que desenvolvimento + manutenção</td></tr>
<tr><td><strong>Time-to-value?</strong></td><td>Pode esperar 6-12 meses</td><td>Precisa em semanas</td></tr>
</table>
</div>

<div class="tip info">
<span class="tip-icon">i</span>
<div><strong>Abordagem hibrida:</strong> A maioria das empresas usa Buy para fundacao (GitHub Actions, Datadog) e Build para a camada de integração e abstraccao (templates customizados, golden paths, portal interno). Não reinvente CI/CD — construa em cima dele.</div>
</div>

<!-- ═══ BACKSTAGE ═══ -->
<h3>Backstage by Spotify</h3>

<p><strong>Backstage</strong> é a plataforma open-source mais adotada para construir developer portals. Criada pelo Spotify para gerenciar 2.000+ microserviços e 1.000+ engenheiros, foi doada a CNCF e hoje é usada por empresas como Netflix, Expedia, HP e American Airlines.</p>

<h4>Software Catalog</h4>
<p>O catálogo é o <strong>coracao do Backstage</strong>. Ele registra e organiza todos os componentes do seu ecossistema:</p>

<ul>
<li><strong>Components:</strong> Serviços, bibliotecas, websites — qualquer pedaco de software</li>
<li><strong>APIs:</strong> REST, gRPC, GraphQL — com documentação e ownership</li>
<li><strong>Resources:</strong> Databases, buckets, queues — infraestrutura associada</li>
<li><strong>Systems:</strong> Agrupamento lógico de componentes que formam uma capability</li>
<li><strong>Domains:</strong> Agrupamento de sistemas por area de negócio (Pagamentos, Logistica, etc)</li>
</ul>

<p>Cada componente e declarado via um arquivo <code>catalog-info.yaml</code> no repositório:</p>

<pre data-lang="yaml"><code><span class="cm"># catalog-info.yaml — registra o serviço no Backstage</span>
<span class="tp">apiVersion:</span> <span class="str">backstage.io/v1alpha1</span>
<span class="tp">kind:</span> <span class="str">Component</span>
<span class="tp">metadata:</span>
  <span class="tp">name:</span> <span class="str">payment-service</span>
  <span class="tp">description:</span> <span class="str">Serviço de processamento de pagamentos via Pix e cartao</span>
  <span class="tp">annotations:</span>
    <span class="tp">github.com/project-slug:</span> <span class="str">myorg/payment-service</span>
    <span class="tp">backstage.io/techdocs-ref:</span> <span class="str">dir:.</span>
    <span class="tp">pagerduty.com/service-id:</span> <span class="str">PABC123</span>
  <span class="tp">tags:</span>
    <span class="op">-</span> <span class="str">payments</span>
    <span class="op">-</span> <span class="str">critical</span>
    <span class="op">-</span> <span class="str">pci-dss</span>
  <span class="tp">links:</span>
    <span class="op">-</span> <span class="tp">url:</span> <span class="str">https://grafana.internal/d/payments</span>
      <span class="tp">title:</span> <span class="str">Dashboard Grafana</span>
      <span class="tp">icon:</span> <span class="str">dashboard</span>
<span class="tp">spec:</span>
  <span class="tp">type:</span> <span class="str">service</span>
  <span class="tp">lifecycle:</span> <span class="str">production</span>
  <span class="tp">owner:</span> <span class="str">team-payments</span>
  <span class="tp">system:</span> <span class="str">payments-platform</span>
  <span class="tp">providesApis:</span>
    <span class="op">-</span> <span class="str">payment-api</span>
  <span class="tp">consumesApis:</span>
    <span class="op">-</span> <span class="str">bank-integration-api</span>
    <span class="op">-</span> <span class="str">fraud-detection-api</span>
  <span class="tp">dependsOn:</span>
    <span class="op">-</span> <span class="str">resource:payments-db</span>
    <span class="op">-</span> <span class="str">resource:payments-redis</span></code></pre>

<h4>Scaffolding (Software Templates)</h4>
<p>Templates permitem criar novos serviços padronizados com <strong>um clique</strong>. O dev preenche um formulário (nome, owner, tipo) é o Backstage gera o repositório completo com CI/CD, Dockerfile, Helm chart, testes e catalog-info.yaml.</p>

<pre data-lang="yaml"><code><span class="cm"># template.yaml — Software Templaté para novo serviço NestJS</span>
<span class="tp">apiVersion:</span> <span class="str">scaffolder.backstage.io/v1beta3</span>
<span class="tp">kind:</span> <span class="str">Template</span>
<span class="tp">metadata:</span>
  <span class="tp">name:</span> <span class="str">nestjs-service-template</span>
  <span class="tp">title:</span> <span class="str">NestJS Microservice</span>
  <span class="tp">description:</span> <span class="str">Cria novo microserviço NestJS com CI/CD, Docker e observabilidade</span>
  <span class="tp">tags:</span>
    <span class="op">-</span> <span class="str">nestjs</span>
    <span class="op">-</span> <span class="str">typescript</span>
    <span class="op">-</span> <span class="str">recommended</span>
<span class="tp">spec:</span>
  <span class="tp">owner:</span> <span class="str">team-platform</span>
  <span class="tp">type:</span> <span class="str">service</span>
  <span class="tp">parameters:</span>
    <span class="op">-</span> <span class="tp">title:</span> <span class="str">Service Info</span>
      <span class="tp">required:</span> [<span class="str">name</span>, <span class="str">owner</span>, <span class="str">system</span>]
      <span class="tp">properties:</span>
        <span class="tp">name:</span>
          <span class="tp">title:</span> <span class="str">Service Name</span>
          <span class="tp">type:</span> <span class="str">string</span>
          <span class="tp">pattern:</span> <span class="str">'^[a-z][a-z0-9-]*$'</span>
        <span class="tp">owner:</span>
          <span class="tp">title:</span> <span class="str">Owner Team</span>
          <span class="tp">type:</span> <span class="str">string</span>
          <span class="tp">ui:field:</span> <span class="str">OwnerPicker</span>
        <span class="tp">system:</span>
          <span class="tp">title:</span> <span class="str">System</span>
          <span class="tp">type:</span> <span class="str">string</span>
          <span class="tp">ui:field:</span> <span class="str">EntityPicker</span>
  <span class="tp">steps:</span>
    <span class="op">-</span> <span class="tp">id:</span> <span class="str">fetch</span>
      <span class="tp">name:</span> <span class="str">Fetch Skeleton</span>
      <span class="tp">action:</span> <span class="str">fetch:template</span>
      <span class="tp">input:</span>
        <span class="tp">url:</span> <span class="str">./skeleton</span>
        <span class="tp">values:</span>
          <span class="tp">name:</span> <span class="str">${{ parameters.name }}</span>
          <span class="tp">owner:</span> <span class="str">${{ parameters.owner }}</span>
    <span class="op">-</span> <span class="tp">id:</span> <span class="str">publish</span>
      <span class="tp">name:</span> <span class="str">Publish to GitHub</span>
      <span class="tp">action:</span> <span class="str">publish:github</span>
      <span class="tp">input:</span>
        <span class="tp">repoUrl:</span> <span class="str">github.com?owner=myorg&repo=${{ parameters.name }}</span>
    <span class="op">-</span> <span class="tp">id:</span> <span class="str">register</span>
      <span class="tp">name:</span> <span class="str">Register in Catalog</span>
      <span class="tp">action:</span> <span class="str">catalog:register</span>
      <span class="tp">input:</span>
        <span class="tp">repoContentsUrl:</span> <span class="str">${{ steps.publish.output.repoContentsUrl }}</span>
        <span class="tp">catalogInfoPath:</span> <span class="str">/catalog-info.yaml</span></code></pre>

<h4>TechDocs (Documentação Integrada)</h4>
<p>TechDocs integra documentação <strong>docs-as-code</strong> diretamente no portal. Usa MkDocs (Markdown) e gera sites estáticos automáticamente. A documentação vive no mesmo repo que o código — sempre atualizada.</p>

<h4>Plugin Ecosystem</h4>
<p>Backstage e extensivel via plugins. Existem <strong>150+ plugins oficiais e comunitários</strong> para integrar com práticamente qualquer ferramenta:</p>
<ul>
<li><strong>CI/CD:</strong> GitHub Actions, Jenkins, CircleCI, ArgoCD</li>
<li><strong>Monitoring:</strong> Grafana, Datadog, PagerDuty, Prometheus</li>
<li><strong>Cloud:</strong> AWS, GCP, Azure, Kubernetes</li>
<li><strong>Security:</strong> Snyk, SonarQube, Dependabot</li>
<li><strong>Cost:</strong> Kubecost, AWS Cost Explorer</li>
</ul>

<!-- ═══ GOLDEN PATHS ═══ -->
<h3>Golden Paths &amp; Developer Experience</h3>

<h4>Paved Roads vs Guard Rails</h4>
<p>Dois conceitos fundamentais para developer experience em escala:</p>

<ul>
<li><strong>Paved Roads (Estradas Pavimentadas):</strong> Caminhos pre-construidos que fácilitam fazer a coisa certa. Templates, boilerplates, bibliotecas internas. O dev PODE sair da estrada, mas é mais fácil ficar nela. Exemplo: templaté padrão de microserviço já vem com logging, tracing, health checks</li>
<li><strong>Guard Rails (Grades de Protecao):</strong> Restricoes que impedem fazer a coisa errada. Policies, válidacoes automáticas, aprovacoes. O dev NAO PODE ultrapassar. Exemplo: policy que bloqueia deploy sem testes, ou que impede expor porta 22 publicamente</li>
</ul>

<div class="tip warn">
<span class="tip-icon">&#9888;</span>
<div><strong>Equilibrio e crítico:</strong> Guard rails demais = burocracia e frustacao. Paved roads sem guard rails = padrão opcional que ninguem segue. O ideal e <strong>90% paved roads + 10% guard rails</strong> (apenas para segurança e compliance críticos).</div>
</div>

<h4>Self-Service Provisioning</h4>
<p>O dev deve conseguir, <strong>sem abrir ticket</strong>:</p>
<ul>
<li>Criar novo serviço a partir de templaté (5 minutos)</li>
<li>Provisionar banco de dados (staging/prod) (10 minutos)</li>
<li>Configurar domínio e certificado SSL (automático)</li>
<li>Criar ambiente de preview por pull request (automático)</li>
<li>Acessar logs e métricas do seu serviço (imediato)</li>
</ul>

<h4>Templaté Padronizado para Golden Path</h4>
<p>Um golden path para novo serviço tipicamente inclui um GitHub Actions workflow padronizado:</p>

<pre data-lang="yaml"><code><span class="cm"># .github/workflows/golden-path-ci.yml</span>
<span class="cm"># Templaté padrão — todos os serviços herdam este workflow</span>
<span class="tp">name:</span> <span class="str">Golden Path CI/CD</span>

<span class="tp">on:</span>
  <span class="tp">push:</span>
    <span class="tp">branches:</span> [<span class="str">main</span>]
  <span class="tp">pull_request:</span>
    <span class="tp">branches:</span> [<span class="str">main</span>]

<span class="tp">env:</span>
  <span class="tp">REGISTRY:</span> <span class="str">ghcr.io</span>
  <span class="tp">IMAGE_NAME:</span> <span class="str">${{ github.repository }}</span>

<span class="tp">jobs:</span>
  <span class="tp">quality-gate:</span>
    <span class="tp">runs-on:</span> <span class="str">ubuntu-latest</span>
    <span class="tp">steps:</span>
      <span class="op">-</span> <span class="tp">uses:</span> <span class="str">actions/checkout@v4</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Setup Node.js</span>
        <span class="tp">uses:</span> <span class="str">actions/setup-node@v4</span>
        <span class="tp">with:</span>
          <span class="tp">node-version:</span> <span class="str">'20'</span>
          <span class="tp">cache:</span> <span class="str">'npm'</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Install Dependencies</span>
        <span class="tp">run:</span> <span class="str">npm ci</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Lint</span>
        <span class="tp">run:</span> <span class="str">npm run lint</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Type Check</span>
        <span class="tp">run:</span> <span class="str">npm run typecheck</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Unit Tests (Coverage >= 80%)</span>
        <span class="tp">run:</span> <span class="str">npm run test:cov -- --passWithNoTests</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Security Audit</span>
        <span class="tp">run:</span> <span class="str">npm audit --audit-level=high</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Build</span>
        <span class="tp">run:</span> <span class="str">npm run build</span>

  <span class="tp">docker:</span>
    <span class="tp">needs:</span> <span class="str">quality-gate</span>
    <span class="tp">if:</span> <span class="str">github.ref == 'refs/heads/main'</span>
    <span class="tp">runs-on:</span> <span class="str">ubuntu-latest</span>
    <span class="tp">permissions:</span>
      <span class="tp">contents:</span> <span class="str">read</span>
      <span class="tp">packages:</span> <span class="str">write</span>
    <span class="tp">steps:</span>
      <span class="op">-</span> <span class="tp">uses:</span> <span class="str">actions/checkout@v4</span>

      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Build &amp; Push Docker Image</span>
        <span class="tp">uses:</span> <span class="str">docker/build-push-action@v5</span>
        <span class="tp">with:</span>
          <span class="tp">push:</span> <span class="str">true</span>
          <span class="tp">tags:</span> <span class="str">${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}:${{ github.sha }}</span>

  <span class="tp">deploy:</span>
    <span class="tp">needs:</span> <span class="str">docker</span>
    <span class="tp">runs-on:</span> <span class="str">ubuntu-latest</span>
    <span class="tp">environment:</span> <span class="str">production</span>
    <span class="tp">steps:</span>
      <span class="op">-</span> <span class="tp">name:</span> <span class="str">Deploy via ArgoCD</span>
        <span class="tp">run:</span> <span class="op">|</span>
          <span class="str">argocd app set ${{ github.event.repository.name }} \</span>
          <span class="str">  --parameter image.tag=${{ github.sha }}</span>
          <span class="str">argocd app sync ${{ github.event.repository.name }}</span></code></pre>

<h4>Developer Portals</h4>
<p>O portal do desenvolvedor é a <strong>interface unificada</strong> onde o dev encontra tudo que precisa:</p>
<ul>
<li>Catalogo de todos os serviços e APIs da organização</li>
<li>Templates para criar novos serviços</li>
<li>Documentação técnica de cada componente</li>
<li>Status de pipelines e deploys</li>
<li>Métricas de qualidade e performance</li>
<li>Links rápidos para dashboards, logs e alerts</li>
</ul>

<!-- ═══ DORA METRICS ═══ -->
<h3>DORA Metrics</h3>

<p>As <strong>DORA Metrics</strong> (DevOps Research and Assessment) são as 4 métricas padrão da industria para medir a performance de entrega de software. Criadas pelo time de pesquisa do Google (liderado por Dr. Nicole Forsgren), baseadas em dados de 6+ anós de pesquisa com 36.000+ profissionais.</p>

<h4>1. Deployment Frequency (Frequencia de Deploy)</h4>
<p><strong>Pergunta:</strong> Com que frequência sua organização faz deploy em produção?</p>
<ul>
<li><strong>Elite:</strong> Multiplas vezes por dia (on-demand)</li>
<li><strong>High:</strong> 1 vez por dia a 1 vez por semana</li>
<li><strong>Medium:</strong> 1 vez por semana a 1 vez por mes</li>
<li><strong>Low:</strong> Menós de 1 vez por mes</li>
<li><strong>Como melhorar:</strong> Reduzir batch size (features menores), trunk-based development, feature flags, CI/CD automatizado</li>
</ul>

<h4>2. Lead Time for Changes</h4>
<p><strong>Pergunta:</strong> Quanto tempo desde o commit até rodar em produção?</p>
<ul>
<li><strong>Elite:</strong> Menós de 1 hora</li>
<li><strong>High:</strong> 1 dia a 1 semana</li>
<li><strong>Medium:</strong> 1 semana a 1 mes</li>
<li><strong>Low:</strong> Mais de 6 meses</li>
<li><strong>Como melhorar:</strong> Automatizar testes, reduzir aprovacoes manuais, pre-merge válidation, trunk-based dev</li>
</ul>

<h4>3. Mean Time to Recovery (MTTR)</h4>
<p><strong>Pergunta:</strong> Quando uma falha ocorre em produção, quanto tempo para restaurar o serviço?</p>
<ul>
<li><strong>Elite:</strong> Menós de 1 hora</li>
<li><strong>High:</strong> Menós de 1 dia</li>
<li><strong>Medium:</strong> 1 dia a 1 semana</li>
<li><strong>Low:</strong> Mais de 6 meses</li>
<li><strong>Como melhorar:</strong> Rollback automático, canary deploys, runbooks automatizados, blameless post-mortems</li>
</ul>

<h4>4. Change Failure Rate</h4>
<p><strong>Pergunta:</strong> Qual percentual de deploys causa falhas que exigem hotfix, rollback ou patch?</p>
<ul>
<li><strong>Elite:</strong> 0-15%</li>
<li><strong>High:</strong> 16-30%</li>
<li><strong>Medium:</strong> 16-30%</li>
<li><strong>Low:</strong> &gt; 45%</li>
<li><strong>Como melhorar:</strong> Testes automatizados robustos, code review, staging environment, progressive delivery (canary/blue-green)</li>
</ul>

<div class="diagram">
<div class="diagram-box green">Deployment<br>Frequency<br><small>Velocidade</small></div>
<div class="diagram-box blue">Lead Time<br>for Changes<br><small>Velocidade</small></div>
<div class="diagram-box purple">MTTR<br><small>Estabilidade</small></div>
<div class="diagram-box orange">Change<br>Failure Rate<br><small>Estabilidade</small></div>
</div>

<p>As 4 métricas se dividem em dois eixos: <strong>velocidade</strong> (Deployment Frequency + Lead Time) e <strong>estabilidade</strong> (MTTR + Change Failure Rate). Times elite performam bem em ambos — provando que velocidade e estabilidade <strong>não são trade-offs</strong>.</p>

<div class="tip good">
<span class="tip-icon">&#10022;</span>
<div><strong>Insight contra-intuitivo:</strong> Os dados do DORA mostram que times que fazem deploy com mais frequência tem MENOS falhas, não mais. Deploys menores = menor risco por deploy = rollback mais fácil = MTTR mais baixo. A "segurança" de deploys infrequentes é uma ilusao.</div>
</div>

<!-- ═══ SPACE FRAMEWORK ═══ -->
<h3>SPACE Framework</h3>

<p>DORA mede <strong>delivery performance</strong>, mas não captura produtividade de forma holistica. O <strong>SPACE Framework</strong> (criado por Nicole Forsgren, Margaret-Anne Storey e outros pesquisadores) propoe 5 dimensões para medir produtividade de desenvolvedores sem cair na armadilha de métricas toxicas como "linhas de código" ou "commits por dia".</p>

<h4>As 5 Dimensoes</h4>

<div class="card">
<div class="card-title">S — Satisfaction &amp; Well-Being</div>
<p style="color:var(--text2);font-size:.88rem">O quao satisfeito o desenvolvedor esta com seu trabalho, ferramentas e equipe. <strong>Métrica:</strong> Survey trimestral (escala 1-10), eNPS (Employee Net Promoter Score), burnout indicators. Correlacao direta com retenção de talentos.</p>
</div>

<div class="card blue">
<div class="card-title">P — Performance</div>
<p style="color:var(--text2);font-size:.88rem">Outcomes e impacto do trabalho, não volume. <strong>Métrica:</strong> Quality of code reviews, customer impact, reliability do código entregue (bugs por feature). NAO medir por linhas de código ou número de PRs.</p>
</div>

<div class="card purple">
<div class="card-title">A — Activity</div>
<p style="color:var(--text2);font-size:.88rem">Volume de acoes observaveis (commits, PRs, reviews, deploys). <strong>Cuidado:</strong> Activity sozinha e perigosa — pode incentivar "gaming". Use apenas como sinal complementar, nunca como métrica primária de produtividade.</p>
</div>

<div class="card orange">
<div class="card-title">C — Commúnication &amp; Collaboration</div>
<p style="color:var(--text2);font-size:.88rem">Quao bem as pessoas trabalham juntas. <strong>Métrica:</strong> Tempo de resposta em code reviews, knowledge sharing (docs criados), onboarding time de novos membros. Times com boa colaboracao entregam mais rápido.</p>
</div>

<div class="card">
<div class="card-title">E — Efficiency &amp; Flow</div>
<p style="color:var(--text2);font-size:.88rem">Capacidade de completar trabalho com mínimo de interrupções e esperas. <strong>Métrica:</strong> Tempo bloqueado esperando review/aprovacao, frequência de context switching, % de tempo em "deep work". Platform Engineering impacta diretamente esta dimensão.</p>
</div>

<div class="diagram">
<div class="diagram-box green">Satisfaction<br><small>Survey / eNPS</small></div>
<div class="diagram-box blue">Performance<br><small>Outcomes / Impact</small></div>
<div class="diagram-box purple">Activity<br><small>Observable Actions</small></div>
<div class="diagram-box orange">Commúnication<br><small>Collaboration Quality</small></div>
<div class="diagram-box cyan">Efficiency<br><small>Flow / Deep Work</small></div>
</div>

<div class="tip warn">
<span class="tip-icon">&#9888;</span>
<div><strong>Nunca use apenas 1 dimensão:</strong> O framework SPACE exige medir pelo menós 3 das 5 dimensões. Medir só Activity incentiva "work theater" (parecer ocupado). Medir só Performance sem Satisfaction leva a burnout. Use o conjunto para ter uma visao equilibrada.</div>
</div>

<!-- ═══ FERRAMENTAS ═══ -->
<h3>Ferramentas &amp; Ecossistema</h3>

<h4>Port</h4>
<p><strong>Port</strong> é uma plataforma SaaS para construir Internal Developer Portals sem precisar hospedar Backstage. Oferece catálogo, self-service actions, scorecards e integração nativa com cloud providers. Ideal para times que querem valor rápido sem manter infraestrutura do portal.</p>

<h4>Kratix</h4>
<p><strong>Kratix</strong> é um framework open-source para construir plataformas compostas. Permite definir "Promises" — abstraccoes declarativas que encapsulam infraestrutura complexa em recursos simples. Um dev pede "quero um banco Postgres" e Kratix provisiona RDS, configura backup, security groups e monitoring automáticamente.</p>

<h4>Humanitec</h4>
<p><strong>Humanitec</strong> é uma plataforma comercial que implementa o conceito de Score — uma específicacao workload-centric que abstrai infraestrutura. O dev define o que precisa (container, database, DNS) é a plataforma resolve como provisionar em cada ambiente.</p>

<h4>Crossplane para Abstraccao de Infraestrutura</h4>
<p>Crossplane estende o Kubernetes API para gerenciar infraestrutura de qualquer cloud provider como se fosse um recursó Kubernetes nativo:</p>

<ul>
<li><strong>Managed Resources:</strong> Representacao 1:1 de recursos cloud (RDS, S3, GCS)</li>
<li><strong>Compositions:</strong> Agrupamento de recursos em abstraccoes de alto nível</li>
<li><strong>Claims:</strong> Interface simplificada que devs consomem (pede "um banco" sem saber os detalhes)</li>
<li><strong>Providers:</strong> Plugins para AWS, GCP, Azure é mais</li>
</ul>

<h4>ArgoCD + Backstage Integration</h4>
<p>ArgoCD é o padrão de facto para <strong>GitOps</strong> em Kubernetes. Integrado com Backstage, o dev ve o status de deploy de cada serviço diretamente no portal, sem precisar acessar dashboards separados.</p>

<h4>Scoring Cards e Maturity Models</h4>
<p>Scorecards medem a <strong>maturidade de cada serviço</strong> contra padrões definidos pelo time de plataforma:</p>

<ul>
<li><strong>Bronze:</strong> Tem CI/CD, testes básicos, health check endpoint</li>
<li><strong>Silver:</strong> Cobertura de testes > 80%, observabilidade (logs + métricas), documentação atualizada</li>
<li><strong>Gold:</strong> Tracing distribuido, alertas configurados, runbook de incidentes, SLO definido</li>
<li><strong>Platinum:</strong> Chaos testing, zero-downtime deploys, auto-remediation, compliance automatizado</li>
</ul>

<div class="table-wrap">
<table>
<tr><th>Ferramenta</th><th>Tipo</th><th>Open Source?</th><th>Melhor Para</th></tr>
<tr><td><strong>Backstage</strong></td><td>Developer Portal</td><td>Sim (CNCF)</td><td>Organizacoes com 50+ devs que querem customizacao total</td></tr>
<tr><td><strong>Port</strong></td><td>Developer Portal</td><td>Não (SaaS)</td><td>Time-to-value rápido sem operar infraestrutura de portal</td></tr>
<tr><td><strong>Kratix</strong></td><td>Platform Framework</td><td>Sim</td><td>Construir abstraccoes de plataforma composiveis</td></tr>
<tr><td><strong>Humanitec</strong></td><td>Platform Orchestrator</td><td>Não (SaaS)</td><td>Abstraccao workload-centric com Score spec</td></tr>
<tr><td><strong>Crossplane</strong></td><td>Infra Abstraction</td><td>Sim (CNCF)</td><td>Gerenciar infra multi-cloud via Kubernetes API</td></tr>
<tr><td><strong>ArgoCD</strong></td><td>GitOps/CD</td><td>Sim (CNCF)</td><td>Continuous Delivery declarativo para Kubernetes</td></tr>
</table>
</div>

<!-- ═══ Q&A ═══ -->
<h3>Perguntas e Respostas</h3>

<div class="qa">
<div class="qa-q" onclick="this.parentElement.classList.toggle('open')">Qual a diferença entre Platform Engineering e DevOps? Um substitui o outro?</div>
<div class="qa-a">
<p><strong>Resposta:</strong> Platform Engineering <strong>não substitui DevOps</strong> — e uma evolução prática. DevOps é uma cultura e conjunto de práticas (colaboracao, automação, feedback loops). Platform Engineering é a <strong>implementação concreta</strong> dessa cultura atraves de um produto interno. Pense assim: DevOps diz "devs e ops devem colaborar"; Platform Engineering diz "vamos construir uma plataforma self-service para que devs não precisem se preocupar com ops no dia a dia". O time de plataforma aplica princípios DevOps para construir e operar a IDP.</p>
</div>
</div>

<div class="qa">
<div class="qa-q" onclick="this.parentElement.classList.toggle('open')">A partir de que tamanho de organização Platform Engineering faz sentido?</div>
<div class="qa-a">
<p><strong>Resposta:</strong> Como regra prática: <strong>a partir de 5-10 times de produto</strong> (30-80 desenvolvedores). Abaixo disso, o overhead de manter uma plataforma interna geralmente não compensa — use ferramentas SaaS e convencooes leves. Acima disso, a falta de padronizacao cria caos exponencial. Sinais de que você precisa: (1) Novos devs levam > 2 semanas para fazer primeiro deploy, (2) Cada time tem CI/CD diferente, (3) Provisionar infraestrutura exige tickets e espera, (4) Ninguem sabe quem e dono de qual serviço.</p>
</div>
</div>

<div class="qa">
<div class="qa-q" onclick="this.parentElement.classList.toggle('open')">DORA diz que times elite deployam multiplas vezes por dia. Isso não é arriscado?</div>
<div class="qa-a">
<p><strong>Resposta:</strong> O insight contra-intuitivo é que deploys frequentes são <strong>MENOS arriscados</strong>, não mais. Cada deploy contém mudanças menores, então: (1) E mais fácil identificar a causa de um problema — a diff e pequena, (2) O rollback é mais simples e previsível, (3) O blast radius de cada falha é menor, (4) O MTTR cai drasticamente. O oposto — deploy mensal com centenas de mudanças — é como jogar uma bomba em produção. Você não sabe qual das 200 mudanças quebrou. A chave e: deploys frequentes SOM com testes automatizados, feature flags e progressive delivery.</p>
</div>
</div>

<div class="qa">
<div class="qa-q" onclick="this.parentElement.classList.toggle('open')">Como convencer a lideranca a investir em Platform Engineering se não gera revenue direto?</div>
<div class="qa-a">
<p><strong>Resposta:</strong> Use dados quantificaveis: (1) <strong>Tempo de onboarding:</strong> Quanto tempo um novo dev leva do primeiro dia ao primeiro deploy? Com IDP, pode cair de 2 semanas para 1 dia. (2) <strong>Tempo perdido em toil:</strong> Quanto tempo por sprint cada dev gasta em tarefas operacionais repetitivas? Multiplique por custo/hora. (3) <strong>Lead time:</strong> Quanto demora do commit ao deploy? Cada dia a menós e feature entregue antes. (4) <strong>Incidentes:</strong> Quantos incidentes são causados por falta de padronizacao? Cada incidente tem custo mensurável. O argumento final: Platform Engineering não gera revenue direto, mas <strong>acelera a velocidade de quem gera</strong>.</p>
</div>
</div>

</div><!-- /section -->

<!-- ═══════════════════ QUIZ ═══════════════════ -->
<div class="quiz-section">
<h3>Quiz — Platform Engineering</h3>
<p style="color:var(--text2);margin-bottom:24px;font-size:.9rem">Teste seus conhecimentos. 10 perguntas de multipla escolha. Sua pontuação será salva localmente.</p>

<div id="quiz-container"></div>

<div class="quiz-actions">
<button class="btn btn-primary" id="btn-submit" onclick="submitQuiz()">Verificar Respostas</button>
<button class="btn btn-secondary" id="btn-retry" onclick="resetQuiz()" style="display:none">Refazer Quiz</button>
</div>

<div class="quiz-result" id="quiz-result">
<p style="color:var(--text3);font-size:.8rem;text-transform:uppercase;letter-spacing:1px">Sua Pontuação</p>
<div class="quiz-score" id="quiz-score">0/10</div>
<p style="color:var(--text2);font-size:.88rem" id="quiz-message"></p>
</div>
</div>

<!-- ═══════════════════ WIZARD NAV ═══════════════════ -->
<div class="wizard-nav">
<a href="49-padroes-arquiteturais-avancados.html">&#8592; Anterior: Padroes Arquiteturais Avancados</a>
<a href="../fullstack-mastery.html" class="wizard-home" title="Voltar ao Dashboard">&#8962; Home</a>
<a href="51-reliability-engineering.html" class="primary">Próximo: Reliability Engineering &#8594;</a>
</div>

</div><!-- /content -->
</div><!-- /main -->

<script>
// ══════════════════════════════════════════
// QUIZ DATA — Seção 50: Platform Engineering
// ══════════════════════════════════════════
const SECTION_NUM = 50;
const STORAGE_KEY = 'fsm_quiz_50';

const QUIZ_DATA = [
  {
    question: "Qual é a principal diferença entre DevOps e Platform Engineering?",
    options: [
      "DevOps e sobre automação; Platform Engineering e sobre monitoramento",
      "DevOps e cultura e práticas; Platform Engineering é o produto interno que implementa essa cultura via self-service",
      "Platform Engineering substitui DevOps completamente",
      "DevOps e para startups; Platform Engineering e para enterprises"
    ],
    correct: 1,
    explanation: "DevOps é uma cultura de colaboracao entre Dev e Ops. Platform Engineering é a implementação prática atraves de uma Internal Developer Platform (IDP) que oferece self-service. Um evolui do outro — não se substituem."
  },
  {
    question: "No Backstage, qual arquivo registra um serviço no Software Catalog?",
    options: [
      "backstage.config.js",
      "service-registry.json",
      "catalog-info.yaml",
      ".backstage/component.yml"
    ],
    correct: 2,
    explanation: "O catalog-info.yaml é o arquivo padrão que vive no repositório do serviço e declara metadata como name, owner, system, APIs fornecidas e consumidas, e dependências de infraestrutura."
  },
  {
    question: "Qual DORA metric mede o tempo entre commit e produção?",
    options: [
      "Deployment Frequency",
      "Change Failure Rate",
      "Lead Time for Changes",
      "Mean Time to Recovery"
    ],
    correct: 2,
    explanation: "Lead Time for Changes mede o tempo desde o commit do código até ele estar rodando em produção. Times elite conseguem menós de 1 hora. E uma métrica de velocidade de entrega."
  },
  {
    question: "Segundo os dados do DORA, qual afirmacao e verdadeira?",
    options: [
      "Times que deployam com mais frequência tem mais falhas em produção",
      "Velocidade e estabilidade são trade-offs — você escolhe um ou outro",
      "Times elite performam bem tanto em velocidade quanto estabilidade — não são trade-offs",
      "MTTR não tem correlação com frequência de deploy"
    ],
    correct: 2,
    explanation: "Os dados do DORA provam que velocidade e estabilidade NAO são trade-offs. Times elite deployam multiplas vezes por dia E tem os menores change failure rates e MTTRs. Deploys menores = menor risco = recuperação mais rápida."
  },
  {
    question: "No SPACE Framework, por que medir apenas 'Activity' (commits, PRs) e perigoso?",
    options: [
      "Porque Activity não pode ser medida com precisão",
      "Porque incentiva 'work theater' — parecer ocupado sem gerar impacto real",
      "Porque Activity só funciona para times presenciais",
      "Porque Activity é a mesma coisa que Performance"
    ],
    correct: 1,
    explanation: "Medir apenas Activity incentiva gaming — devs fazem muitos commits pequenos, PRs triviais e reviews superficiais para parecerem produtivos. O SPACE Framework exige medir pelo menós 3 das 5 dimensões para uma visao equilibrada."
  },
  {
    question: "Qual a diferença entre 'Paved Roads' e 'Guard Rails' em Platform Engineering?",
    options: [
      "São sinônimos — ambos significam padronizacao",
      "Paved roads fácilitam o caminho certo (opcional); guard rails impedem o caminho errado (obrigatório)",
      "Guard rails são para desenvolvimento; paved roads são para produção",
      "Paved roads são manuais; guard rails são automatizados"
    ],
    correct: 1,
    explanation: "Paved roads (estradas pavimentadas) tornam fácil fazer a coisa certa — templates, boilerplates, golden paths. O dev pode sair se quiser. Guard rails (grades de proteção) impedem fazer a coisa errada — policies, válidacoes. O dev não pode ultrapassar. O ideal e 90% paved roads + 10% guard rails."
  },
  {
    question: "O que é Crossplane e qual problema ele resolve?",
    options: [
      "Um framework de testes end-to-end para microserviços",
      "Uma extensão do Kubernetes API para gerenciar infraestrutura multi-cloud como recursos nativos",
      "Um substituto open-source para o Backstage",
      "Uma ferramenta de monitoramento para clusters Kubernetes"
    ],
    correct: 1,
    explanation: "Crossplane estende o Kubernetes API para gerenciar recursos de infraestrutura (RDS, S3, GCS) de qualquer cloud provider como se fossem recursos Kubernetes nativos. Usa Managed Resources, Compositions e Claims para abstrair complexidade."
  },
  {
    question: "Em um Maturity Model de serviços, o que diferencia um serviço 'Gold' de um 'Silver'?",
    options: [
      "Gold tem CI/CD, Silver não",
      "Gold tem testes, Silver tem apenas linting",
      "Gold adiciona tracing distribuido, alertas configurados e SLO definido além dos requisitos Silver",
      "Gold e para produção, Silver e para staging"
    ],
    correct: 2,
    explanation: "Silver exige cobertura > 80%, observabilidade básica e documentação. Gold eleva com tracing distribuido, alertas configurados, runbook de incidentes e SLO definido. Scorecards incentivam melhoria continua sem bloquear entrega."
  },
  {
    question: "Qual é o conceito central de 'Platform as a Product'?",
    options: [
      "Vender a plataforma para outras empresas como SaaS",
      "Tratar a plataforma como um produto interno e os desenvolvedores como clientes, com PM, roadmap e métricas de adoção",
      "Usar apenas produtos comerciais em vez de open-source",
      "Documentar a plataforma como se fosse um produto publico"
    ],
    correct: 1,
    explanation: "Platform as a Product significa tratar a plataforma interna com a mesma seriedade de um produto externo: Product Manager dedicado, user research com devs, roadmap priorizado, métricas de adoção e satisfacao (NPS interno), e documentação de alta qualidade."
  },
  {
    question: "Qual das 4 DORA metrics mede estabilidade (não velocidade)?",
    options: [
      "Deployment Frequency e Lead Time for Changes",
      "Deployment Frequency e Change Failure Rate",
      "Mean Time to Recovery (MTTR) e Change Failure Rate",
      "Lead Time for Changes e MTTR"
    ],
    correct: 2,
    explanation: "As 4 DORA metrics se dividem em: Velocidade (Deployment Frequency + Lead Time for Changes) e Estabilidade (MTTR + Change Failure Rate). Times elite performam bem em ambos os eixos."
  }
];

// ══════════════════════════════════════════
// QUIZ ENGINE
// ══════════════════════════════════════════
let submitted = false;

function renderQuiz() {
  const container = document.getElementById('quiz-container');
  let html = '';

  QUIZ_DATA.forEach((q, i) => {
    html += '<div class="quiz-card" id="q' + i + '">';
    html += '<div class="quiz-question"><span class="q-num">' + (i + 1) + '.</span><span>' + q.question + '</span></div>';
    html += '<div class="quiz-options">';
    q.options.forEach((opt, j) => {
      html += '<label class="quiz-option" id="q' + i + 'o' + j + '" onclick="selectOption(' + i + ',' + j + ')">';
      html += '<input type="radio" name="q' + i + '" value="' + j + '"> ' + opt;
      html += '</label>';
    });
    html += '</div>';
    html += '<div class="quiz-explanation" id="q' + i + 'exp">' + q.explanation + '</div>';
    html += '</div>';
  });

  container.innerHTML = html;
}

function selectOption(qIdx, oIdx) {
  if (submitted) return;
  const options = document.querySelectorAll('#q' + qIdx + ' .quiz-option');
  options.forEach(o => o.classList.remove('selected'));
  document.getElementById('q' + qIdx + 'o' + oIdx).classList.add('selected');
}

function submitQuiz() {
  if (submitted) return;
  submitted = true;

  let score = 0;

  QUIZ_DATA.forEach((q, i) => {
    const selected = document.querySelector('input[name="q' + i + '"]:checked');
    const selectedIdx = selected ? parseInt(selected.value) : -1;

    // Show explanation
    document.getElementById('q' + i + 'exp').classList.add('visible');

    // Mark correct/wrong
    if (selectedIdx === q.correct) {
      score++;
      document.getElementById('q' + i + 'o' + selectedIdx).classList.add('correct');
    } else {
      if (selectedIdx >= 0) {
        document.getElementById('q' + i + 'o' + selectedIdx).classList.add('wrong');
      }
      document.getElementById('q' + i + 'o' + q.correct).classList.add('correct');
    }
  });

  // Show result
  const result = document.getElementById('quiz-result');
  const scoreEl = document.getElementById('quiz-score');
  const msgEl = document.getElementById('quiz-message');
  result.classList.add('visible');
  scoreEl.textContent = score + '/10';

  if (score >= 8) {
    scoreEl.className = 'quiz-score';
    msgEl.textContent = 'Excelente! Você domina Platform Engineering.';
  } else if (score >= 5) {
    scoreEl.className = 'quiz-score mid';
    msgEl.textContent = 'Bom, mas revise os conceitos que errou.';
  } else {
    scoreEl.className = 'quiz-score low';
    msgEl.textContent = 'Recomendado: releia a seção e tente novamente.';
  }

  // Save to localStorage
  const data = { score: score, total: 10, completedAt: new Date().toISOString() };
  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));

  // Toggle buttons
  document.getElementById('btn-submit').style.display = 'none';
  document.getElementById('btn-retry').style.display = 'inline-flex';
}

function resetQuiz() {
  submitted = false;
  document.getElementById('quiz-result').classList.remove('visible');
  document.getElementById('btn-submit').style.display = 'inline-flex';
  document.getElementById('btn-retry').style.display = 'none';
  renderQuiz();
}

// Check for previous score
function loadPreviousScore() {
  const saved = localStorage.getItem(STORAGE_KEY);
  if (saved) {
    try {
      const data = JSON.parse(saved);
      const tip = document.createElement('div');
      tip.className = 'tip info';
      tip.innerHTML = '<span class="tip-icon">i</span><div>Você já fez este quiz antes e tirou <strong>' + data.score + '/10</strong>. Pode refazer para melhorar sua nota.</div>';
      document.querySelector('.quiz-section').insertBefore(tip, document.getElementById('quiz-container'));
    } catch(e) {}
  }
}

// Init
renderQuiz();
loadPreviousScore();
</script>
</body>
</html>