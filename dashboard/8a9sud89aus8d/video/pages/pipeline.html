<!-- pipeline.html - Kanban board do pipeline + Content Engine -->
<div class="yt-page-header">
    <h1 class="yt-page-title">Pipeline</h1>
    <div class="yt-page-actions">
        <span id="pipe-engine-status"></span>
        <button class="yt-btn yt-btn-ghost" id="pipe-bulk-reprocess" disabled>
            Reprocessar Selecionados
        </button>
        <button class="yt-btn yt-btn-ghost" id="pipe-bulk-approve" disabled>
            Aprovar Selecionados
        </button>
        <button class="yt-btn yt-btn-ghost" id="pipe-trigger">
            Forcar Geracao Agora
        </button>
        <button class="yt-btn yt-btn-primary" id="pipe-pause-toggle">
            Pausar Engine
        </button>
    </div>
</div>

<!-- Engine Status Bar -->
<div class="yt-card" style="margin-bottom: 16px;" id="pipe-engine-bar">
    <div class="yt-card-body" style="padding: 12px; display: flex; align-items: center; gap: 24px; flex-wrap: wrap;">
        <div style="display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Buffer</span>
            <span style="font-weight: 700;" id="pipe-buffer-text">--/--</span>
            <div class="yt-progress" style="width: 80px; height: 6px;">
                <div class="yt-progress-bar" id="pipe-buffer-bar" style="width: 0%;"></div>
            </div>
        </div>
        <div style="display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Geracoes Hoje</span>
            <span style="font-weight: 700;" id="pipe-gen-today">--/--</span>
        </div>
        <div style="display: flex; align-items: center; gap: 8px;">
            <span style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Proxima Execucao</span>
            <span style="font-weight: 700;" id="pipe-next-run">--</span>
        </div>
    </div>
</div>

<!-- Stats Bar -->
<div class="yt-grid-4" style="margin-bottom: 16px;" id="pipe-stats">
    <div class="yt-card">
        <div class="yt-card-body" style="text-align: center; padding: 12px;">
            <div style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Total</div>
            <div style="font-size: 1.5rem; font-weight: 700;" id="pipe-stat-total">--</div>
        </div>
    </div>
    <div class="yt-card">
        <div class="yt-card-body" style="text-align: center; padding: 12px;">
            <div style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Em Progresso</div>
            <div style="font-size: 1.5rem; font-weight: 700; color: var(--color-warning);" id="pipe-stat-progress">--</div>
        </div>
    </div>
    <div class="yt-card">
        <div class="yt-card-body" style="text-align: center; padding: 12px;">
            <div style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Concluidos / Falhos</div>
            <div style="font-size: 1.5rem; font-weight: 700;">
                <span style="color: var(--color-success);" id="pipe-stat-completed">--</span>
                <span style="color: var(--text-tertiary);"> / </span>
                <span style="color: var(--color-danger);" id="pipe-stat-failed">--</span>
            </div>
        </div>
    </div>
    <div class="yt-card">
        <div class="yt-card-body" style="text-align: center; padding: 12px;">
            <div style="font-size: 0.75rem; color: var(--text-tertiary); text-transform: uppercase;">Fontes no Pool</div>
            <div style="font-size: 1.5rem; font-weight: 700;" id="pipe-pool-health">--</div>
        </div>
    </div>
</div>

<div id="pipe-loading" class="yt-empty-state">
    <div class="yt-spinner"></div>
</div>

<!-- Kanban Board -->
<div id="pipe-kanban" class="yt-kanban" style="display: none;"></div>

<script>
    window.ytRegisterPage('pipeline', async (params) => {
        const { loadPipeline } = await import('./js/pages/pipeline.js');
        loadPipeline(params);
    });
</script>
