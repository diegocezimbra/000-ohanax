<!-- assembly.html - Video player, metadados e montagem -->

<!-- Detail Header -->
<div class="yt-detail-header">
    <div class="yt-detail-header-left">
        <nav class="yt-detail-breadcrumb">
            <a id="asm-bc-pipeline">Pipeline</a>
            <span class="yt-detail-breadcrumb-sep">/</span>
            <a id="asm-bc-topic">Historia</a>
            <span class="yt-detail-breadcrumb-sep">/</span>
            <span class="yt-detail-breadcrumb-current">Montagem do Video</span>
        </nav>
        <h1 class="yt-detail-title">Montagem do Video</h1>
    </div>
    <div class="yt-detail-actions" id="asm-actions"></div>
</div>

<div id="asm-loading" class="yt-empty-state">
    <div class="yt-spinner"></div>
</div>

<div id="asm-empty" class="yt-empty-state" style="display:none;">
    <div class="yt-empty-state-icon">&#127916;</div>
    <div class="yt-empty-state-message">Video ainda nao foi montado.</div>
    <div class="yt-empty-state-action">
        <button class="yt-btn yt-btn-primary" id="asm-assemble-empty">Montar Video</button>
    </div>
</div>

<div id="asm-content" style="display:none;">
    <!-- Video Player -->
    <div class="yt-card" style="margin-bottom:16px;">
        <div class="yt-card-body" style="padding:0;">
            <video id="asm-video" controls
                   style="width:100%;border-radius:var(--radius-lg) var(--radius-lg) 0 0;background:#000;max-height:480px;">
            </video>
        </div>
    </div>

    <!-- Metadata Stats -->
    <div class="yt-detail-stats" style="margin-bottom:16px;">
        <div class="yt-detail-stat">
            <div class="yt-detail-stat-label">Duracao</div>
            <div class="yt-detail-stat-value" id="asm-duration">--</div>
        </div>
        <div class="yt-detail-stat">
            <div class="yt-detail-stat-label">Tamanho</div>
            <div class="yt-detail-stat-value" id="asm-size">--</div>
        </div>
        <div class="yt-detail-stat">
            <div class="yt-detail-stat-label">Resolucao</div>
            <div class="yt-detail-stat-value" id="asm-resolution">--</div>
        </div>
    </div>

    <!-- Timeline -->
    <div class="yt-card" id="asm-timeline-card" style="display:none;">
        <div class="yt-card-header"><span style="font-weight:600;">Timeline dos Segmentos</span></div>
        <div class="yt-card-body">
            <div id="asm-timeline" style="display:flex;gap:4px;overflow-x:auto;padding-bottom:8px;"></div>
        </div>
    </div>
</div>

<script>
    window.ytRegisterPage('assembly', async (params) => {
        const { loadAssembly } = await import('./js/pages/assembly.js');
        loadAssembly(params);
    });
</script>
