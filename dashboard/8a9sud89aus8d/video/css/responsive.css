/* ========================================
   RESPONSIVE - YouTube Automation SPA
   Mobile and tablet overrides
   Breakpoints: 768px (tablet), 480px (mobile)
   ======================================== */

/* ================================================
   TABLET (max-width: 768px)
   ================================================ */
@media (max-width: 768px) {

    /* ---- Sidebar: off-canvas ---- */
    .yt-sidebar {
        transform: translateX(-100%);
        z-index: calc(var(--z-nav) + 5);
    }

    .yt-sidebar.active {
        transform: translateX(0);
    }

    .yt-menu-toggle {
        display: flex;
    }

    .yt-main {
        margin-left: 0;
        padding: 16px;
        padding-top: 60px;
    }

    /* ---- Page header ---- */
    .yt-page-header {
        flex-direction: column;
        align-items: flex-start;
    }

    .yt-page-header-actions {
        width: 100%;
        flex-wrap: wrap;
    }

    /* ---- Form rows stack ---- */
    .yt-form-row {
        flex-direction: column;
        gap: 12px;
    }

    /* ---- Kanban: horizontal scroll with smaller columns ---- */
    .yt-kanban {
        gap: 12px;
    }

    .yt-kanban-column {
        min-width: 260px;
        max-width: 280px;
    }

    /* ---- Kanban stats ---- */
    .yt-kanban-stats {
        flex-direction: column;
        gap: 8px;
    }

    .yt-kanban-stat {
        min-width: auto;
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        padding: 12px 16px;
    }

    /* ---- Editor segments ---- */
    .yt-segment-card {
        flex-direction: column;
        padding: 12px;
    }

    .yt-segment-handle {
        width: auto;
        height: 20px;
        flex-direction: row;
    }

    .yt-segment-header {
        flex-wrap: wrap;
    }

    .yt-segment-actions {
        width: 100%;
        justify-content: flex-end;
    }

    /* ---- Assembly layout: stacked ---- */
    .yt-assembly-layout {
        height: auto;
    }

    .yt-preview-panel {
        min-height: 200px;
    }

    /* ---- Timeline ---- */
    .yt-timeline {
        padding: 12px;
    }

    .yt-timeline-segment {
        height: 48px;
        min-width: 32px;
    }

    /* ---- Player ---- */
    .yt-player-controls {
        padding: 8px 12px;
        gap: 8px;
    }

    .yt-player-volume-slider {
        width: 60px;
    }

    .yt-player-time {
        font-size: 11px;
        min-width: 64px;
    }

    /* ---- Tables become cards ---- */
    .yt-table-responsive {
        border: none;
    }

    .yt-table-responsive thead {
        display: none;
    }

    .yt-table-responsive tbody {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .yt-table-responsive tr {
        display: flex;
        flex-direction: column;
        padding: 12px;
        background: var(--color-bg-card);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-md);
    }

    .yt-table-responsive td {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 4px 0;
        border-bottom: none;
    }

    .yt-table-responsive td::before {
        content: attr(data-label);
        font-size: var(--font-size-xs);
        font-weight: 600;
        color: var(--color-text-muted);
        text-transform: uppercase;
        letter-spacing: 0.04em;
    }

    /* ---- Hide non-essential table columns ---- */
    .yt-hide-tablet {
        display: none !important;
    }

    /* ---- Detail page overrides ---- */
    .yt-detail-header {
        flex-direction: column;
    }

    .yt-detail-actions {
        width: 100%;
        flex-wrap: wrap;
    }

    .yt-detail-meta {
        grid-template-columns: repeat(2, 1fr);
    }

    .yt-detail-stats {
        flex-direction: column;
    }

    .yt-detail-breadcrumb-current {
        max-width: 200px;
    }

    /* ---- Grid overrides ---- */
    .yt-grid-3,
    .yt-grid-4 {
        grid-template-columns: repeat(2, 1fr);
    }

    /* ---- Calendar: switch to list ---- */
    .yt-calendar-grid {
        display: none;
    }

    .yt-calendar-list {
        display: flex;
        flex-direction: column;
        gap: 8px;
    }

    .yt-calendar-list-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px;
        background: var(--color-bg-card);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-md);
    }

    .yt-calendar-list-date {
        font-size: var(--font-size-xs);
        font-weight: 600;
        color: var(--color-text-muted);
        min-width: 64px;
    }

    /* ---- Editor metadata ---- */
    .yt-editor-metadata {
        padding: 16px;
    }

    /* ---- Editor toolbar ---- */
    .yt-editor-toolbar {
        flex-direction: column;
        gap: 8px;
        align-items: stretch;
    }

    .yt-editor-toolbar-left,
    .yt-editor-toolbar-right {
        justify-content: center;
    }

    /* ---- Waveform ---- */
    .yt-waveform {
        height: 60px;
    }

    /* ---- Modal ---- */
    .yt-modal {
        margin: 16px;
        max-height: calc(100vh - 32px);
    }

    .yt-modal-lg,
    .yt-modal-xl {
        max-width: 100%;
    }
}

/* ================================================
   MOBILE (max-width: 480px)
   ================================================ */
@media (max-width: 480px) {

    .yt-main {
        padding: 12px;
        padding-top: 56px;
    }

    /* ---- Kanban: single column stacked ---- */
    .yt-kanban {
        flex-direction: column;
        overflow-x: visible;
    }

    .yt-kanban-column {
        min-width: auto;
        max-width: 100%;
        max-height: none;
    }

    .yt-kanban-cards {
        max-height: 320px;
    }

    /* ---- Detail page: single col on mobile ---- */
    .yt-detail-meta {
        grid-template-columns: 1fr;
    }

    .yt-detail-title {
        font-size: var(--font-size-xl);
    }

    /* ---- All grids single column ---- */
    .yt-grid-2,
    .yt-grid-3,
    .yt-grid-4 {
        grid-template-columns: 1fr;
    }

    /* ---- Reduce padding/gaps ---- */
    .yt-kanban-card {
        padding: 8px;
    }

    .yt-kanban-column-header {
        padding: 12px;
    }

    .yt-segment-card {
        padding: 8px;
    }

    /* ---- Player compact ---- */
    .yt-player-play {
        width: 32px;
        height: 32px;
        font-size: 12px;
    }

    .yt-player-volume {
        display: none;
    }

    .yt-player-controls {
        gap: 8px;
        padding: 8px;
    }

    /* ---- Timeline compact ---- */
    .yt-timeline-segment {
        height: 40px;
    }

    .yt-timeline-zoom {
        flex-wrap: wrap;
        justify-content: center;
    }

    /* ---- Duration slider ---- */
    .yt-duration-slider {
        flex-wrap: wrap;
    }

    /* ---- Tags wrap tighter ---- */
    .yt-tag-input {
        padding: 4px 8px;
        gap: 4px;
    }

    /* ---- Modal full width ---- */
    .yt-modal {
        margin: 8px;
    }

    .yt-modal-header {
        padding: 12px 16px;
    }

    .yt-modal-body {
        padding: 16px;
    }

    .yt-modal-footer {
        padding: 12px 16px;
        flex-wrap: wrap;
    }

    /* ---- Toggle input group ---- */
    .yt-input-group {
        flex-direction: column;
    }

    .yt-input-group .yt-input {
        border-radius: var(--radius-md);
    }

    .yt-input-group-suffix,
    .yt-input-group-prefix {
        border-radius: var(--radius-md);
        border: 1px solid var(--color-border);
        justify-content: center;
        padding: 8px 12px;
    }

    /* ---- Hide on mobile ---- */
    .yt-hide-mobile {
        display: none !important;
    }

    /* ---- Page header ---- */
    .yt-page-header h1 {
        font-size: var(--font-size-xl);
    }

    /* ---- Kanban stat: even more compact ---- */
    .yt-kanban-stat {
        padding: 8px 12px;
    }

    .yt-kanban-stat-value {
        font-size: var(--font-size-lg);
    }

    /* ---- Chapter marker ---- */
    .yt-chapter-marker {
        flex-direction: column;
        align-items: flex-start;
        gap: 4px;
        padding: 8px 12px;
    }
}

/* ================================================
   PRINT (optional: clean output)
   ================================================ */
@media print {
    .yt-sidebar,
    .yt-menu-toggle,
    .yt-sidebar-overlay,
    .yt-player-controls,
    .yt-timeline-zoom,
    #yt-toast-container {
        display: none !important;
    }

    .yt-main {
        margin-left: 0;
        padding: 0;
    }

    .yt-kanban-card,
    .yt-segment-card,
    .yt-editor-metadata {
        break-inside: avoid;
    }
}
