<div class="header">
  <h2>Receita por Projeto</h2>
  <div class="header-actions">
    <div class="date-filter">
      <select id="revenue-period" onchange="onPeriodChange('revenue')">
        <option value="7">Ultimos 7 dias</option>
        <option value="30" selected>Ultimos 30 dias</option>
        <option value="90">Ultimos 90 dias</option>
        <option value="365">Ultimo ano</option>
        <option value="all">Todos</option>
      </select>
    </div>
    <button class="refresh-btn" onclick="loadRevenuePage()">Atualizar</button>
  </div>
</div>

<div class="cards">
  <div class="card highlight">
    <div class="card-title">Receita Total</div>
    <div class="card-value" id="revenue-total">R$ --</div>
    <div class="card-subtitle">MRR + One-Time</div>
  </div>
  <div class="card">
    <div class="card-title">MRR Total</div>
    <div class="card-value" id="revenue-mrr">R$ --</div>
    <div class="card-subtitle">Receita recorrente</div>
  </div>
  <div class="card">
    <div class="card-title">ARR Total</div>
    <div class="card-value" id="revenue-arr">R$ --</div>
    <div class="card-subtitle">Receita anual</div>
  </div>
  <div class="card">
    <div class="card-title">One-Time Total</div>
    <div class="card-value" id="revenue-onetime">R$ --</div>
    <div class="card-subtitle">Pacotes vendidos</div>
  </div>
</div>

<div class="section">
  <div class="section-title">Receita por Projeto</div>
  <div class="project-cards" id="revenue-projects">
    <div class="loading">Carregando...</div>
  </div>
</div>

<div class="grid-2">
  <div class="section">
    <div class="section-title">MRR por Plano</div>
    <div id="revenue-by-plan"><div class="loading">Carregando...</div></div>
  </div>
  <div class="section">
    <div class="section-title">Evolucao MRR</div>
    <div class="chart-container"><canvas id="revenueChart"></canvas></div>
  </div>
</div>

<div class="section">
  <div class="section-title">Ultimas Transacoes</div>
  <table>
    <thead>
      <tr>
        <th>Email</th>
        <th>Projeto</th>
        <th>Tipo</th>
        <th>Plano/Pacote</th>
        <th>Valor</th>
        <th>Data</th>
      </tr>
    </thead>
    <tbody id="revenue-transactions">
      <tr><td colspan="6" class="loading">Carregando...</td></tr>
    </tbody>
  </table>
</div>
