<div class="header">
  <h2>Todos os Usuarios</h2>
  <div class="header-actions">
    <button class="refresh-btn" onclick="loadUsersPage()">Atualizar</button>
  </div>
</div>

<div class="section">
  <div class="section-title">Filtros <span class="info-tooltip" data-tooltip="Use os filtros para encontrar usuarios especificos. Pode filtrar por projeto, status de verificacao, plano e buscar por email."></span></div>
  <div class="filters-row">
    <div class="filter-group">
      <label>Projeto</label>
      <select id="users-filter-project" onchange="loadUsersPage()">
        <option value="">Todos</option>
        <option value="app-auth">Auth</option>
        <option value="app-billing">Billing</option>
        <option value="security-audit">Security</option>
        <option value="oentregador">oEntregador</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Status</label>
      <select id="users-filter-status" onchange="loadUsersPage()">
        <option value="">Todos</option>
        <option value="verified">Verificado</option>
        <option value="unverified">Nao Verificado</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Plano</label>
      <select id="users-filter-plan" onchange="loadUsersPage()">
        <option value="">Todos</option>
        <option value="paying">Pagante</option>
        <option value="trialing">Em Trial</option>
        <option value="free">Gratuito</option>
      </select>
    </div>
    <div class="filter-group">
      <label>Buscar</label>
      <input type="text" id="users-filter-search" placeholder="Email..." onkeyup="debounceSearch()">
    </div>
  </div>
</div>

<div class="cards">
  <div class="card">
    <div class="card-title">Total Usuarios <span class="info-tooltip" data-tooltip="Total de usuarios que correspondem aos filtros atuais. Inclui todos os status."></span></div>
    <div class="card-value" id="users-total">--</div>
    <div class="card-subtitle">Filtrados</div>
  </div>
  <div class="card">
    <div class="card-title">Verificados <span class="info-tooltip" data-tooltip="Usuarios que confirmaram o email clicando no link de verificacao. Base mais qualificada."></span></div>
    <div class="card-value" id="users-verified">--</div>
    <div class="card-subtitle">Email confirmado</div>
  </div>
  <div class="card">
    <div class="card-title">Com Plano <span class="info-tooltip" data-tooltip="Usuarios com algum plano (trial ou pagante). Mostra quantos estao engajados com o produto."></span></div>
    <div class="card-value" id="users-with-plan">--</div>
    <div class="card-subtitle">Trial ou Pagante</div>
  </div>
  <div class="card">
    <div class="card-title">Gratuitos <span class="info-tooltip tooltip-left" data-tooltip="Usuarios sem assinatura. Oportunidade de conversao - podem ser convertidos para trial ou pagante."></span></div>
    <div class="card-value" id="users-free">--</div>
    <div class="card-subtitle">Sem assinatura</div>
  </div>
</div>

<div class="section">
  <div class="section-title">Lista de Usuarios (<span id="users-count">0</span>) <span class="info-tooltip" data-tooltip="Lista de todos os usuarios cadastrados. O numero mostra o total com os filtros atuais. Clique nas colunas para ordenar."></span></div>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Email</th>
          <th>Projeto</th>
          <th>Plano</th>
          <th>Status</th>
          <th>MRR</th>
          <th>Verificado</th>
          <th>Cadastro</th>
        </tr>
      </thead>
      <tbody id="users-table">
        <tr><td colspan="7" class="loading">Carregando...</td></tr>
      </tbody>
    </table>
  </div>
  <div class="pagination" id="users-pagination"></div>
</div>
